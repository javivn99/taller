CREATE TABLE IF NOT EXISTS `taller`.`TALLER` (
  `NIF` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NOT NULL,
  `LOCALIDAD` VARCHAR(60) NOT NULL,
  `COD_POSTAL` INT NOT NULL,
  `TLF` INT NOT NULL,
  PRIMARY KEY (`NIF`),
  UNIQUE INDEX `NIF_UNIQUE` (`NIF` ASC) VISIBLE,
  UNIQUE INDEX `TLF_UNIQUE` (`TLF` ASC) VISIBLE)
ENGINE = InnoDB;

INSERT INTO  `taller`.`TALLER` (`NIF`, `NOMBRE`, `LOCALIDAD`, `COD_POSTAL`, `TLF`) VALUES
(1, 'COCHE REPAIR',  'VALLECAS', 28031, 983654710),
(2, 'ARREGLA TODO', 'VALLADOLID', 47400, 983201364),
(3, 'TALLER PISTON', 'SALAMANCA', 37002, 983429730);


CREATE TABLE IF NOT EXISTS `taller`.`MECANICO` (
  `DNI` VARCHAR(9) NOT NULL,
  `NOMBRE` VARCHAR(20) NOT NULL,
  `APELLIDOS` VARCHAR(45) NOT NULL,
  `EMAIL` VARCHAR(80) NOT NULL,
  `F_NACIMIENTO` DATE NOT NULL,
  `NIF` INT,
  PRIMARY KEY (`DNI`),
  UNIQUE INDEX `M_DNI_UNIQUE` (`DNI` ASC) VISIBLE,
  UNIQUE INDEX `M_EMAIL_UNIQUE` (`EMAIL` ASC) VISIBLE)
ENGINE = InnoDB;

INSERT INTO  `taller`.`MECANICO` (`DNI`, `NOMBRE`, `APELLIDOS`, `EMAIL`, `F_NACIMIENTO`, `NIF`) VALUES
('12549876S', 'EMILIO', 'NUÑEZ DE LA SIERRA', 'admin1@gmail.com', '1985-05-24', 1),
('19865478E', 'RAUL', 'SAEZ HERNANDEZ', 'admin2@gmail.com', '1999-12-03', 1),
('14783256A', 'SARA', 'REDONDO LOPEZ', 'admin3@gmail.com', '1974-08-14', 2),
('10365487M', 'PAULA', 'CUADRADO SERRANO', 'admin4@gmail.com', '1988-01-01', 2),
('12563048U', 'ARTURO', 'NIETO ROCHAS', 'admin5@gmail.com', '1992-11-13', 3),
('12498654P', 'EZEQUIEL', 'FERNANDEZ ESPINOSA', 'admin6@gmail.com', '1995-07-05', 3);


CREATE TABLE IF NOT EXISTS `taller`.`COCHE` (
  `MATRICULA` VARCHAR(7) NOT NULL,
  `MARCA` VARCHAR(45) NOT NULL,
  `MODELO` VARCHAR(50) NOT NULL,
  `PRECIO` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`MATRICULA`),
  UNIQUE INDEX `C_MATR_UNIQUE` (`MATRICULA` ASC) VISIBLE)
ENGINE = InnoDB;

INSERT INTO  `taller`.`COCHE` (`MATRICULA`, `MARCA`, `MODELO`, `PRECIO`) VALUES
('1234DJR', 'RANGE ROBER', 'HSE', '80000€'),
('7436RUT', 'BMW', 'M3', '70000€'),
('9832RTV', 'BMW', 'X5', '90000€'),
('9832MNP', 'AUDI', 'TT', '75000€'),
('8772JHS', 'BUGATTI', 'VEYRON', '1980000€'),
('1321CDP', 'LAMBORGHINI', 'HURACAN', '830000€'),
('9833SCV', 'FERRARI', 'F40', '450000€'),
('7887PNP', 'FORD', 'FIESTA', '2000€'),
('9872KLK', 'SEAT', 'LEON FR', '32000€'),
('4322RLJ', 'AUDI', 'RS7', '55000€'),
('8971IUP', 'SKODA', 'FABIA', '1600€'),
('7239LPL', 'PEUGEOT', '407', '40000€'),
('2131BNM', 'FORD', 'MUSTANG', '655000€'),
('6676BNP', 'SEAT', 'IBIZA', '22000€'),
('9887HTL', 'AUDI', 'A5', '62500€');


CREATE TABLE IF NOT EXISTS `taller`.`VEHICULO` (
  `MATRICULA` VARCHAR(7) NOT NULL,
  `AVERIA` VARCHAR(100) NOT NULL,
  `COSTE` VARCHAR(10) NOT NULL,
  `DIAS_REPARACION` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`MATRICULA`),
  UNIQUE INDEX `V_MATR_UNIQUE` (`MATRICULA` ASC) VISIBLE)
ENGINE = InnoDB;

INSERT INTO  `taller`.`VEHICULO` (`MATRICULA`, `AVERIA`, `COSTE`, `DIAS_REPARACION`) VALUES
('5874LSD', 'CAMBIO DE NEUMATICOS', '50€', '1 DIA'),
('2654YTU', 'CAMBIO DE ACEITE', '10€', '1 DIA'),
('9786BPM', 'CAMBIO DE PASTILLAS DE FRENO', '65€', '3 DIAS'),
('9345FQV', 'CAMBIO DE PARACHOQUES FRONTAL Y LUNA FRONTAL', '1599€', '8 DIAS'),
('8976CNV', 'CAMBIO DE RETROVISOR DERECHO', '320€', '2 DIAS'),
('0982HTY', 'LIMPIEZA DEL TUBO DE ESCAPE', '225€', '2 DIAS'),
('2345LKJ', 'CAMBIO LIQUIDO ANTI-CONGELANTE', '15€', '1 DIA');

CREATE TABLE IF NOT EXISTS `taller`.`CLIENTE` (
  `DNI` VARCHAR(9) NOT NULL,
  `NOMBRE` VARCHAR(20) NOT NULL,
  `APELLIDOS` VARCHAR(45) NOT NULL,
  `EMAIL` VARCHAR(80) NOT NULL,
  `F_NACIMIENTO` DATE NOT NULL,
  `NIF` INT,
  PRIMARY KEY (`DNI`),
  UNIQUE INDEX `C_DNI_UNIQUE` (`DNI` ASC) VISIBLE,
  UNIQUE INDEX `C_EMAIL_UNIQUE` (`EMAIL` ASC) VISIBLE)
ENGINE = InnoDB;

INSERT INTO  `taller`.`CLIENTE` (`DNI`, `NOMBRE`, `APELLIDOS`, `EMAIL`, `F_NACIMIENTO`, `NIF`) VALUES
('14683000R', 'ERNESTO', 'URRUTIA GONZALEZ', 'user1@gmail.com', '1977-01-02', 1),
('15486548B', 'BRAULIO', 'VALDEMORO MARTIN', 'user2@gmail.com', '1988-12-30', 1),
('15487965J', 'INES', 'YLLERA MENDEZ', 'user3@gmail.com', '1970-07-10', 2),
('16541635T', 'EMMA', 'MARTIN SORIA', 'user4@gmail.com', '1998-09-08', 2),
('15487896P', 'RICK', 'VEGAS RODRIGUEZ', 'user5@gmail.com', '1990-06-06', 3),
('14300085K', 'CAROLO', 'SANCHEZ MARTINEZ', 'user6@gmail.com', '1984-01-09', 3);


ALTER TABLE `taller`.`MECANICO`
  ADD CONSTRAINT  `mecanico_nif` FOREIGN KEY (`NIF`) REFERENCES `TALLER` (`NIF`) ON DELETE CASCADE ON UPDATE CASCADE;
  
  ALTER TABLE `taller`.`CLIENTE`
  ADD CONSTRAINT  `cliente_nif` FOREIGN KEY (`NIF`) REFERENCES `TALLER` (`NIF`) ON DELETE CASCADE ON UPDATE CASCADE;